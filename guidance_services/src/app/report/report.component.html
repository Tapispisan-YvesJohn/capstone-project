<div class="header">
  <img src="../../assets/images/pup-logo.png" alt="PUP Logo" class="logo">
  <div class="header-text">
    <h1>Polytechnic University of the Philippines - Taguig</h1>
    <p>Guidance Information System</p>
  </div>
</div>

<div class="container">
  <div class="sidebar">
    <ul>
      <li><a routerLink="/student-record">Student Records</a></li>
      <li><a routerLink="/appointments">Appointments</a></li>
      <li><a routerLink="/application-status">Inventory Record Application</a></li>
      <li><a routerLink="/report">Reports</a></li>
    </ul>
  </div>

  <div class="content">
    <h2>Report List</h2>

    <form>
      <div>
        <label for="course">Course:</label>
        <select name="course" [(ngModel)]="selectedCourse" (change)="applyFilters()">
          <option *ngFor="let course of courses" [value]="course">{{ course }}</option>
        </select>
      </div>

      <div>
        <label for="name">Name:</label>
        <input type="text" name="name" [(ngModel)]="filters.name" placeholder="Search by name">
      </div>

      <div>
        <label for="date">Date:</label>
        <input type="date" name="date" [(ngModel)]="filters.date">
      </div>

      <div>
        <button type="button" (click)="applyFilters()">Apply Filters</button>
      </div>
    </form>

    <table class="table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Course</th>
          <th>Email</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let report of rows">
          <td>{{ report.last_name }}, {{ report.first_name }} {{ report.middle_name[0] }}.</td> <!-- Format the name properly -->
          <td>{{ report.course }}</td>
          <td>{{ report.email }}</td>
        </tr>
      </tbody>
    </table>

    <pagination-controls (pageChange)="paginateReports($event)"></pagination-controls>

    <div class="export-buttons">
      <button (click)="exportToCSV()">Export CSV</button>
      <button (click)="exportToExcel()">Export Excel</button>
      <button (click)="exportToPDF()">Export PDF</button>
    </div>
  </div>
</div>
