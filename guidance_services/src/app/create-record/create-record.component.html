<div class="header">
    <img src="../../assets/images/pup-logo.png" alt="PUP Logo" class="logo">
    <div class="header-text">
        <h1>Polytechnic University of the Philippines</h1>
        <p>Guidance Information System</p>
    </div>
</div>

<div class="container">
    <div class="sidebar">
        <ul>
            <li><a (click)="navigateTo('homepage')">Student Records</a></li>
            <li><a (click)="navigateTo('create-record')">Create Records</a></li>
            <li><a (click)="navigateTo('review-applicants')">Review Applicants</a></li>
            <li><a (click)="navigateTo('application-status')">Application Status</a></li>
            <li><a (click)="navigateTo('history')">History</a></li>
        </ul>
        <div class="profile">
            <a (click)="navigateTo('profile')">PROFILE</a>
        </div>
    </div>

    <div class="content">
        <h2>Create Record</h2>
        <form [formGroup]="inventoryForm" (ngSubmit)="onSubmit()">
            <!-- Personal Information Section -->
            <div class="form-section" formGroupName="personal_information">
                <h3 class="section-title">Personal Information</h3>
                <div class="form-row">
                    <label for="lastName">Last Name</label>
                    <input id="lastName" formControlName="lastName" />
                    <div *ngIf="inventoryForm.get('personal_information.lastName').touched && inventoryForm.get('personal_information.lastName').invalid" class="error">
                        Last Name is required.
                    </div>
                    <label for="firstName">First Name</label>
                    <input id="firstName" formControlName="firstName" />
                    <div *ngIf="inventoryForm.get('personal_information.firstName').touched && inventoryForm.get('personal_information.firstName').invalid" class="error">
                        First Name is required.
                    </div>
                    <label for="middleName">Middle Name</label>
                    <input id="middleName" formControlName="middleName" />
                    <div *ngIf="inventoryForm.get('personal_information.middleName').touched && inventoryForm.get('personal_information.middleName').invalid" class="error">
                        Middle Name is required.
                    </div>
                </div>

                <div class="form-row">
                    <label for="civilStatus">Civil Status</label>
                    <input id="civilStatus" formControlName="civilStatus" />
                    <div *ngIf="inventoryForm.get('personal_information.civilStatus').touched && inventoryForm.get('personal_information.civilStatus').invalid" class="error">
                        Civil Status is required.
                    </div>
                    <label for="religion">Religion</label>
                    <input id="religion" formControlName="religion" />
                    <div *ngIf="inventoryForm.get('personal_information.religion').touched && inventoryForm.get('personal_information.religion').invalid" class="error">
                        Religion is required.
                    </div>
                    <label for="email">Email</label>
                    <input id="email" formControlName="email" />
                    <div *ngIf="inventoryForm.get('personal_information.email').touched && inventoryForm.get('personal_information.email').invalid" class="error">
                        A valid Email is required.
                    </div>
                </div>

                <div class="form-row">
                    <label for="course">Course</label>
                    <input id="course" formControlName="course" />
                    <div *ngIf="inventoryForm.get('personal_information.course').touched && inventoryForm.get('personal_information.course').invalid" class="error">
                        Course is required.
                    </div>
                    <label for="dob">Date of Birth</label>
                    <input id="dob" type="date" formControlName="dob" />
                    <div *ngIf="inventoryForm.get('personal_information.dob').touched && inventoryForm.get('personal_information.dob').invalid" class="error">
                        Date of Birth is required.
                    </div>
                    <label for="placeOfBirth">Place of Birth</label>
                    <input id="placeOfBirth" formControlName="placeOfBirth" />
                    <div *ngIf="inventoryForm.get('personal_information.placeOfBirth').touched && inventoryForm.get('personal_information.placeOfBirth').invalid" class="error">
                        Place of Birth is required.
                    </div>
                </div>

                <div class="form-row">
                    <label for="mobileNo">Mobile No.</label>
                    <input id="mobileNo" formControlName="mobileNo" />
                    <div *ngIf="inventoryForm.get('personal_information.mobileNo').touched && inventoryForm.get('personal_information.mobileNo').invalid" class="error">
                        A valid Mobile No. is required (10-11 digits).
                    </div>
                    <label for="address">Address</label>
                    <input id="address" formControlName="address" />
                    <div *ngIf="inventoryForm.get('personal_information.address').touched && inventoryForm.get('personal_information.address').invalid" class="error">
                        Address is required.
                    </div>
                    <label for="emergencyContact">Emergency Contact Name</label>
                    <input id="emergencyContact" formControlName="emergencyContact" />
                    <div *ngIf="inventoryForm.get('personal_information.emergencyContact').touched && inventoryForm.get('personal_information.emergencyContact').invalid" class="error">
                        Emergency Contact Name is required.
                    </div>
                </div>
            </div>

            <!-- Educational Background Section -->
            <div class="form-section" formGroupName="educational_background">
                <h3 class="section-title">Educational Background</h3>
                <div class="form-row">
                    <label for="elementarySchool">Elementary School</label>
                    <input id="elementarySchool" formControlName="elementarySchool" />
                    <div *ngIf="inventoryForm.get('educational_background.elementarySchool').touched && inventoryForm.get('educational_background.elementarySchool').invalid" class="error">
                        Elementary School is required.
                    </div>
                    <label for="juniorHighSchool">Junior High School</label>
                    <input id="juniorHighSchool" formControlName="juniorHighSchool" />
                    <div *ngIf="inventoryForm.get('educational_background.juniorHighSchool').touched && inventoryForm.get('educational_background.juniorHighSchool').invalid" class="error">
                        Junior High School is required.
                    </div>
                    <label for="seniorHighSchool">Senior High School</label>
                    <input id="seniorHighSchool" formControlName="seniorHighSchool" />
                    <div *ngIf="inventoryForm.get('educational_background.seniorHighSchool').touched && inventoryForm.get('educational_background.seniorHighSchool').invalid" class="error">
                        Senior High School is required.
                    </div>
                </div>
            </div>

            <!-- Family Background Section -->
            <div class="form-section" formGroupName="family_background">
                <h3 class="section-title">Family Background</h3>
                <div class="form-row">
                    <label for="fatherName">Father's Name</label>
                    <input id="fatherName" formControlName="fatherName" />
                    <div *ngIf="inventoryForm.get('family_background.fatherName').touched && inventoryForm.get('family_background.fatherName').invalid" class="error">
                        Father's Name is required.
                    </div>
                    <label for="fatherAge">Father's Age</label>
                    <input id="fatherAge" formControlName="fatherAge" />
                    <div *ngIf="inventoryForm.get('family_background.fatherAge').touched && inventoryForm.get('family_background.fatherAge').invalid" class="error">
                        Father's Age is required and must be between 18 and 120.
                    </div>
                    <label for="fatherOccupation">Father's Occupation</label>
                    <input id="fatherOccupation" formControlName="fatherOccupation" />
                    <div *ngIf="inventoryForm.get('family_background.fatherOccupation').touched && inventoryForm.get('family_background.fatherOccupation').invalid" class="error">
                        Father's Occupation is required.
                    </div>
                </div>

                <div class="form-row">
                    <label for="motherName">Mother's Name</label>
                    <input id="motherName" formControlName="motherName" />
                    <div *ngIf="inventoryForm.get('family_background.motherName').touched && inventoryForm.get('family_background.motherName').invalid" class="error">
                        Mother's Name is required.
                    </div>
                    <label for="motherAge">Mother's Age</label>
                    <input id="motherAge" formControlName="motherAge" />
                    <div *ngIf="inventoryForm.get('family_background.motherAge').touched && inventoryForm.get('family_background.motherAge').invalid" class="error">
                        Mother's Age is required and must be between 18 and 120.
                    </div>
                    <label for="motherOccupation">Mother's Occupation</label>
                    <input id="motherOccupation" formControlName="motherOccupation" />
                    <div *ngIf="inventoryForm.get('family_background.motherOccupation').touched && inventoryForm.get('family_background.motherOccupation').invalid" class="error">
                        Mother's Occupation is required.
                    </div>
                </div>
            </div>

            <!-- Health Section -->
            <div class="form-section" formGroupName="health_record">
                <h3 class="section-title">Health</h3>
                <div class="form-row">
                    <label for="vision">Vision</label>
                    <select id="vision" formControlName="vision">
                        <option value="No Problem">No Problem</option>
                        <option value="Problem">Problem</option>
                    </select>
                    <div *ngIf="inventoryForm.get('health_record.vision').touched && inventoryForm.get('health_record.vision').invalid" class="error">
                        Vision status is required.
                    </div>
                    <label for="hearing">Hearing</label>
                    <select id="hearing" formControlName="hearing">
                        <option value="No Problem">No Problem</option>
                        <option value="Problem">Problem</option>
                    </select>
                    <div *ngIf="inventoryForm.get('health_record.hearing').touched && inventoryForm.get('health_record.hearing').invalid" class="error">
                        Hearing status is required.
                    </div>
                    <label for="generalHealth">General Health</label>
                    <select id="generalHealth" formControlName="generalHealth">
                        <option value="No Problem">No Problem</option>
                        <option value="Problem">Problem</option>
                    </select>
                    <div *ngIf="inventoryForm.get('health_record.generalHealth').touched && inventoryForm.get('health_record.generalHealth').invalid" class="error">
                        General Health status is required.
                    </div>
                </div>
            </div>

            <!-- Test Results Section -->
            <div class="form-section" formGroupName="test_results">
                <h3 class="section-title">Test Results</h3>
                <div class="form-row">
                    <label for="testDate">Date</label>
                    <input id="testDate" type="date" formControlName="testDate" />
                    <div *ngIf="inventoryForm.get('test_results.testDate').touched && inventoryForm.get('test_results.testDate').invalid" class="error">
                        Test Date is required.
                    </div>
                    <label for="testAdministered">Test Administered</label>
                    <input id="testAdministered" formControlName="testAdministered" />
                    <div *ngIf="inventoryForm.get('test_results.testAdministered').touched && inventoryForm.get('test_results.testAdministered').invalid" class="error">
                        Test Administered is required.
                    </div>
                    <label for="testResults">Test Results (RS)</label>
                    <input id="testResults" formControlName="testResults" />
                    <div *ngIf="inventoryForm.get('test_results.testResults').touched && inventoryForm.get('test_results.testResults').invalid" class="error">
                        Test Results are required.
                    </div>
                    <label for="testDescription">Description</label>
                    <input id="testDescription" formControlName="testDescription" />
                    <div *ngIf="inventoryForm.get('test_results.testDescription').touched && inventoryForm.get('test_results.testDescription').invalid" class="error">
                        Description is required.
                    </div>
                </div>
            </div>

            <!-- Significant Notes Section -->
            <div class="form-section" formGroupName="significant_notes">
                <h3 class="section-title">Significant Notes (For Guidance Counselors Only)</h3>
                <div class="form-row">
                    <label for="incidentDate">Date</label>
                    <input id="incidentDate" type="date" formControlName="incidentDate" />
                    <div *ngIf="inventoryForm.get('significant_notes.incidentDate').touched && inventoryForm.get('significant_notes.incidentDate').invalid" class="error">
                        Incident Date is required.
                    </div>
                    <label for="incident">Incident</label>
                    <input id="incident" formControlName="incident" />
                    <div *ngIf="inventoryForm.get('significant_notes.incident').touched && inventoryForm.get('significant_notes.incident').invalid" class="error">
                        Incident is required.
                    </div>
                    <label for="remarks">Remarks</label>
                    <input id="remarks" formControlName="remarks" />
                    <div *ngIf="inventoryForm.get('significant_notes.remarks').touched && inventoryForm.get('significant_notes.remarks').invalid" class="error">
                        Remarks are required.
                    </div>
                </div>
            </div>

            <!-- Submission Button -->
            <div class="mt-4">
                <button class="btn btn-primary" type="submit">Submit</button>
            </div>
        </form>
    </div>
</div>
