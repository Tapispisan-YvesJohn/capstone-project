<div class="header">
    <img src="../../assets/images/pup-logo.png" alt="PUP Logo" class="logo">
    <div class="header-text">
        <h1>Polytechnic University of the Philippines - Taguig</h1>
        <p>Guidance Information System</p>
    </div>
</div>

<div class="container">
    <div class="content">
        <h2>Student Record</h2>

        <form class="student-record-form" [formGroup]="recordForm">
            <div class="section">
                <h3>Personal Information</h3>
                <div class="form-grid">
                    <div>
                        <label>Last Name</label>
                        <p *ngIf="!editMode">{{ student.personal_information.last_name }}</p>
                        <input *ngIf="editMode" formControlName="lastName" type="text">
                    </div>
                    <div>
                        <label>First Name</label>
                        <p *ngIf="!editMode">{{ student.personal_information.first_name }}</p>
                        <input *ngIf="editMode" formControlName="firstName" type="text">
                    </div>
                    <div>
                        <label>Middle Name</label>
                        <p *ngIf="!editMode">{{ student.personal_information.middle_name }}</p>
                        <input *ngIf="editMode" formControlName="middleName" type="text">
                    </div>
                    <div>
                        <label>Civil Status</label>
                        <p *ngIf="!editMode">{{ student.personal_information.civil_status }}</p>
                        <input *ngIf="editMode" formControlName="civilStatus" type="text">
                    </div>
                    <div>
                        <label>Religion</label>
                        <p *ngIf="!editMode">{{ student.personal_information.religion }}</p>
                        <input *ngIf="editMode" formControlName="religion" type="text">
                    </div>
                    <div>
                        <label>Email</label>
                        <p *ngIf="!editMode">{{ student.personal_information.email }}</p>
                        <input *ngIf="editMode" formControlName="email" type="email">
                    </div>
                    <div>
                        <label>Course</label>
                        <p *ngIf="!editMode">{{ student.personal_information.course }}</p>
                        <input *ngIf="editMode" formControlName="course" type="text">
                    </div>
                    <div>
                        <label>Date of Birth</label>
                        <p *ngIf="!editMode">{{ student.personal_information.dob }}</p>
                        <input *ngIf="editMode" formControlName="dob" type="date">
                    </div>
                    <div>
                        <label>Place of Birth</label>
                        <p *ngIf="!editMode">{{ student.personal_information.place_of_birth }}</p>
                        <input *ngIf="editMode" formControlName="placeOfBirth" type="text">
                    </div>
                    <div>
                        <label>Mobile No</label>
                        <p *ngIf="!editMode">{{ student.personal_information.mobile_no }}</p>
                        <input *ngIf="editMode" formControlName="mobileNo" type="text">
                    </div>
                    <div>
                        <label>Address</label>
                        <p *ngIf="!editMode">{{ student.personal_information.address }}</p>
                        <input *ngIf="editMode" formControlName="address" type="text">
                    </div>
                    <div>
                        <label>Emergency Contact Name</label>
                        <p *ngIf="!editMode">{{ student.personal_information.emergency_contact }}</p>
                        <input *ngIf="editMode" formControlName="emergencyContact" type="text">
                    </div>
                </div>
            </div>
            
            <hr>
            
            <div class="section">
                <h3>Educational Background</h3>
                <div class="form-grid">
                    <div>
                        <label>Elementary School</label>
                        <p *ngIf="!editMode">{{ student.educational_background.elementary_school }}</p>
                        <input *ngIf="editMode" formControlName="elementarySchool" type="text">
                    </div>
                    <div>
                        <label>Junior High School</label>
                        <p *ngIf="!editMode">{{ student.educational_background.junior_high_school }}</p>
                        <input *ngIf="editMode" formControlName="juniorHighSchool" type="text">
                    </div>
                    <div>
                        <label>Senior High School</label>
                        <p *ngIf="!editMode">{{ student.educational_background.senior_high_school }}</p>
                        <input *ngIf="editMode" formControlName="seniorHighSchool" type="text">
                    </div>
                </div>
            </div>
            
            <hr>
            
            <div class="section">
                <h3>Family Background</h3>
                <div class="form-grid">
                    <div>
                        <label>Father's Name</label>
                        <p *ngIf="!editMode">{{ student.family_background.father_name }}</p>
                        <input *ngIf="editMode" formControlName="fatherName" type="text">
                    </div>
                    <div>
                        <label>Father's Age</label>
                        <p *ngIf="!editMode">{{ student.family_background.father_age }}</p>
                        <input *ngIf="editMode" formControlName="fatherAge" type="number">
                    </div>
                    <div>
                        <label>Father's Occupation</label>
                        <p *ngIf="!editMode">{{ student.family_background.father_occupation }}</p>
                        <input *ngIf="editMode" formControlName="fatherOccupation" type="text">
                    </div>
                    <div>
                        <label>Mother's Name</label>
                        <p *ngIf="!editMode">{{ student.family_background.mother_name }}</p>
                        <input *ngIf="editMode" formControlName="motherName" type="text">
                    </div>
                    <div>
                        <label>Mother's Age</label>
                        <p *ngIf="!editMode">{{ student.family_background.mother_age }}</p>
                        <input *ngIf="editMode" formControlName="motherAge" type="number">
                    </div>
                    <div>
                        <label>Mother's Occupation</label>
                        <p *ngIf="!editMode">{{ student.family_background.mother_occupation }}</p>
                        <input *ngIf="editMode" formControlName="motherOccupation" type="text">
                    </div>
                </div>
            </div>
            
            <hr>
            
            <div class="section">
                <h3>Health Record</h3>
                <div class="form-grid">
                    <div>
                        <label>Vision</label>
                        <p *ngIf="!editMode">{{ student.health_record.vision }}</p>
                        <input *ngIf="editMode" formControlName="vision" type="text">
                    </div>
                    <div>
                        <label>Hearing</label>
                        <p *ngIf="!editMode">{{ student.health_record.hearing }}</p>
                        <input *ngIf="editMode" formControlName="hearing" type="text">
                    </div>
                    <div>
                        <label>General Health</label>
                        <p *ngIf="!editMode">{{ student.health_record.general_health }}</p>
                        <input *ngIf="editMode" formControlName="generalHealth" type="text">
                    </div>
                </div>
            </div>
            
            <hr>
            
            <div class="section">
                <h3>Test Results</h3>
                <div class="form-grid">
                    <div>
                        <label>Date</label>
                        <p *ngIf="!editMode">{{ student.test_results.test_date }}</p>
                        <input *ngIf="editMode" formControlName="testDate" type="date">
                    </div>
                    <div>
                        <label>Test Administered</label>
                        <p *ngIf="!editMode">{{ student.test_results.test_administered }}</p>
                        <input *ngIf="editMode" formControlName="testAdministered" type="text">
                    </div>
                    <div>
                        <label>Test Results (RS)</label>
                        <p *ngIf="!editMode">{{ student.test_results.test_results }}</p>
                        <input *ngIf="editMode" formControlName="testResults" type="text">
                    </div>
                    <div>
                        <label>Description</label>
                        <p *ngIf="!editMode">{{ student.test_results.test_description }}</p>
                        <input *ngIf="editMode" formControlName="testDescription" type="text">
                    </div>
                </div>
            </div>
            
            <hr>
            
            <div class="section">
                <h3>Significant Notes (For Guidance Counselors Only)</h3>
                <div class="form-grid">
                    <div>
                        <label>Date</label>
                        <p *ngIf="!editMode">{{ student.significant_notes.date }}</p>
                        <input *ngIf="editMode" formControlName="incidentDate" type="date">
                    </div>
                    <div>
                        <label>Incident</label>
                        <p *ngIf="!editMode">{{ student.significant_notes.incident }}</p>
                        <input *ngIf="editMode" formControlName="incident" type="text">
                    </div>
                    <div>
                        <label>Remarks</label>
                        <p *ngIf="!editMode">{{ student.significant_notes.remarks }}</p>
                        <input *ngIf="editMode" formControlName="remarks" type="text">
                    </div>
                </div>
            </div>

            <div *ngIf="!editMode">
                <button class="edit-btn" (click)="toggleEditMode()">Edit</button>
            </div>

            <div *ngIf="editMode" class="section">
                <button class="save-btn" (click)="saveChanges()">Save Changes</button>
            </div>
        </form>
    </div>
</div>
